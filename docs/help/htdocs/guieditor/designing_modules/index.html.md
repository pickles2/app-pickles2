


Pickles2 Desktop Tool のGUI編集機能は、個別に設計された小さな部品 __ドキュメントモジュール__ を組み合わせて構築するインターフェイスです。

ここでは、ドキュメントモジュールのテンプレートを定義する方法について説明します。


<!-- autoindex -->



## ディレクトリとファイルの構成

### モジュールの単位

モジュールは、次のようなディレクトリ構成構成が単位となります。

- &lt;moduleRoot&gt;/{$mod_category}/{$mod_name}/

この構成は、モジュールの識別IDに影響します。


### モジュール1つあたりのファイル構成

`{$mod_name}` ディレクトリの内容は、次のようなファイルで構成されます。

- template.html
- thumb.png
- info.json

#### template.html

このHTMLファイルに、テンプレートの実装を記述します。
テンプレートは、部分だけを切り出した純粋なHTMLをベースに、フィールド(変更可能な箇所を定義するメタ構文)を埋め込むような形式で記述していきます。

利用可能なフィールドについては、<a href="../fields/">フィールド一覧</a>のページを参照してください。


#### thumb.png

thumb.png は、GUI編集画面上での、モジュールのサムネイルとして使用されます。

縦横比 1:1 の画像を登録してください。大きさについては特に規定はありませんが、500px前後で作成されていれば十分でしょう。

`thumb.png` の他にも、`thumb.jpg`、`thumb.gif`、`thumb.svg` が利用できます。


#### info.json

このJSONファイルには、モジュールの詳細な付加情報を記述します。

下記は記述例です。

```
{
  "name": ".cols (3カラム)"
}
```



## モジュールをプロジェクトに登録する

モジュールの定義ができたら、コンフィグ画面からモジュールとして登録します。

### Config 画面を開く

サブメニュー内にある `Config` を開きます。

### Px2DT Config にディレクトリを登録

Pickles2 Desktop Tool の設定ファイルは、JSON形式です。次の例を参考に、`paths_module_template` 欄に、モジュールのパスを設定してください。

```
{
    "paths_module_template": {
        "SELF": "./px-files/resources/module_templates/"
    }
}
```

モジュールのセットは、1つのプロジェクトにつき複数登録することができます。

Px2DTコンフィグは、`./px-files/px2dtconfig.json` に保存されます。




