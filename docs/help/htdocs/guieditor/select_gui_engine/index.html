<p>GUI編集機能はもともと、Pickles2 Desktop Tool に固く組み込まれた特有の機能として開発されました。しかし、機能拡張を重ね、複雑化するにつれて、このことは開発上の負担になるようになってきました。</p>
<p>こうした背景から、GUI編集機能を単一のパッケージとして Pickles2 Desktop Tool から分離し、broccoli-html-editor というライブラリとして独立させ、エンジンの実装もゼロから刷新されました。</p>



<!-- autoindex -->



<h2 id="gui-">GUI編集エンジンの種類</h2>
<p>GUIエンジンは、次の種類があります。</p>
<ul>
<li><em>legacy</em> - 従来のエンジン</li>
<li><em>broccoli-html-editr</em> - 刷新された新しいエンジン</li>
</ul>
<h2 id="-">エンジンの切り替え設定</h2>
<p>GUI編集エンジンは、Pickles2 の <code>config.php</code> の <code>$conf-&gt;plugins-&gt;px2dt-&gt;guiEngine</code> 項目に設定します。</p>
<p>設定できる値は、<code>broccoli-html-editor</code>(デフォルト) または <code>legacy</code> のいずれかです。</p>
<pre><code>&lt;?php
return call_user_func( function(){

    // initialize
    $conf = new stdClass;

    /* 中略 */

    // config for Plugins.
    $conf-&gt;plugins = new stdClass;

    // config for Pickles2 Desktop Tool.
    $conf-&gt;plugins-&gt;px2dt = new stdClass;

    /* 中略 */

    $conf-&gt;plugins-&gt;px2dt-&gt;guiEngine = &#39;broccoli-html-editor&#39;;//←GUI編集エンジンの名称 (broccoli-html-editor|legacy)

    return $conf;
} );
</code></pre><p><code>config.php</code> に設定するということはつまり、個人のデスクトップツール毎ではなく、プロジェクト別の設定になります。</p>


