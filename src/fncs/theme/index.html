<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>テーマ - Pickles 2</title>

		<meta name="viewport" content="width=device-width" />

		<!-- jQuery -->
		<script src="../../common/scripts/jquery-2.2.4.min.js" type="text/javascript"></script>

		<!-- common funcs -->
		<script src="../../common/scripts/common_funcs.js" type="text/javascript"></script>

		<!-- jQuery UI -->
		<link rel="stylesheet" href="../../common/jquery-ui/jquery-ui.min.css">
		<script src="../../common/jquery-ui/jquery-ui.min.js"></script>

		<!-- Bootstrap -->
		<link rel="stylesheet" href="../../common/bootstrap/css/bootstrap.min.css">
		<script src="../../common/bootstrap/js/bootstrap.min.js"></script>

		<!-- Pickles 2 Style -->
		<link rel="stylesheet" href="../../common/px2style/dist/styles.css" charset="utf-8" />
		<script src="../../common/px2style/dist/scripts.js" charset="utf-8"></script>

		<!-- normalize & FESS -->
		<link rel="stylesheet" href="../../common/styles/contents.css" type="text/css" />

		<!-- Local Resources -->
		<link rel="stylesheet" href="./index_files/style.css" type="text/css" />

		<script id="template-not-enough-api-version" type="text/template">
			<div class="container">
				<p>
					テーマは、<code>$conf->funcs->processor->html</code> に、プロセッサー(加工処理)の1つとして設定されます。<br />
					そのため、テーマによって、テンプレートの実装方式が異なる場合があります。<br />
				</p>
				<p>
					標準的なテーマのテンプレートは、次のような規則で定義されます。<br />
				</p>
				<ul>
					<li>標準的なテーマのテンプレートは、テンプレート格納フォルダの中に、<code>{$layout}.html</code> というファイル名で定義されます。</li>
					<li><code>{$layout}</code> の部分は、サイトマップCSVの <code>layout</code> 欄でページごとに切り替えることができます。</li>
					<li><code>{$layout}</code> には、次の種類が予め定義されています。
						<ul>
							<li>default (規定値)</li>
							<li>top (トップページ用)</li>
							<li>popup (ポップアップページ用)</li>
							<li>plain (body要素が何もない)</li>
							<li>naked (すべての要素をコンテンツが担当する)</li>
						</ul>
					</li>
					<li>同じようにして、<code>{$layout}</code> はこれら以外にも自由に追加定義することができます。</li>
				</ul>
				<p>
					テンプレートの格納フォルダは、下記をクリックして開いてください。<br />
				</p>

				<div class="btn-group btn-group-justified" role="group">
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInFinder();">themes フォルダを開く</button>
					</div>
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInTextEditor();">外部テキストエディタで開く</button>
					</div>
				</div>
			</div>
		</script>
		<script id="template-list" type="text/template">
			<div class="container">
				<div class="btn-group btn-group-justified" role="group">
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInFinder();">themes フォルダを開く</button>
					</div>
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInTextEditor();">外部テキストエディタで開く</button>
					</div>
				</div>

				<h2>テーマコレクション</h2>
				<% if( themeCollection.length ){ %>
					<ul class="listview">
					<% for( var idx in themeCollection ){ %>
						<li><a href="javascript:;" data-theme-id="<%= themeCollection[idx] %>" onclick="contApp.pageThemeHome($(this).attr('data-theme-id'));"><%= themeCollection[idx] %></a></li>
					<% } %>
					</ul>
				<% }else{ %>
					<p>レイアウトを作成してください。</p>
				<% } %>
				<!-- <%= realpathThemeCollectionDir %> -->

				<!--
				<h2>テーマパッケージ</h2>
				<ul>
				<% for( var idx in themePluginList ){ %>
					<li><%= themePluginList[idx].name %></li>
				<% } %>
				</ul>
				-->

			</div>
		</script>
		<script id="template-theme-home" type="text/template">
			<div class="container">
				<div class="btn-group btn-group-justified" role="group">
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInFinder('/<%= themeId %>/');"><%= themeId %> フォルダを開く</button>
					</div>
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInFinder('/<%= themeId %>/theme_files/');">リソースフォルダを開く</button>
					</div>
					<div class="btn-group" role="group">
						<button class="btn px2-btn" onclick="contApp.openInTextEditor('/<%= themeId %>/');">外部テキストエディタで開く</button>
					</div>
				</div>

				<h2>レイアウト</h2>
				<% if( layouts.length ){ %>
					<ul class="cont-layout-list listview">
					<% for( var idx in layouts ){ %>
						<li><a href="javascript:;" data-theme-id="<%= themeId %>" data-layout-id="<%= layouts[idx] %>" onclick="contApp.openEditor($(this).attr('data-theme-id'), $(this).attr('data-layout-id'));return false;">
							<%= layouts[idx] %>
							<ul class="cont-layout-menu">
								<li><button class="px2-btn px2-btn--primary" data-theme-id="<%= themeId %>" data-layout-id="<%= layouts[idx] %>" onclick="contApp.openEditor($(this).attr('data-theme-id'), $(this).attr('data-layout-id'));return false;">編集する</button></li>
								<li><button class="px2-btn px2-btn--danger" data-theme-id="<%= themeId %>" data-layout-id="<%= layouts[idx] %>" onclick="contApp.deleteLayout($(this).attr('data-theme-id'), $(this).attr('data-layout-id'));return false;">削除する</button></li>
							</ul>
						</a></li>
					<% } %>
					</ul>
				<% }else{ %>
					<p>レイアウトを作成してください。</p>
				<% } %>
				<p class="text-right"><button class="px2-btn px2-btn--primary" onclick="contApp.addNewLayout('<%= themeId %>');return false;">新規レイアウト作成</button></p>

				<p class="text-center"><button class="px2-btn" onclick="contApp.pageHome();">テーマコレクションへ戻る</button></p>
			</div>
		</script>
	</head>
	<body>
		<div class="container">
			<h1 class="tpl_name">テーマ</h1>
		</div>
		<div class="contents">
		</div>

		<!-- Local Resources -->
		<script src="./index_files/script.js"></script>
	</body>
</html>
